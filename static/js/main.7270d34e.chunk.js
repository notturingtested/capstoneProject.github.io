(this.webpackJsonpcapstone_project=this.webpackJsonpcapstone_project||[]).push([[0],{325:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(7),n=a(11),s=function(){function e(){Object(r.a)(this,e)}return Object(n.a)(e,null,[{key:"create",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.registeredCharts[t])throw new Error("Remember to add ChartFactory.registerChart(".concat(t,"); to ").concat(t,".js."));return new e.registeredCharts[t](a)}}]),e}();s.registeredCharts={},s.registerChart=function(e,t){s.registeredCharts[t||e.name]=e}},357:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},409:function(e,t){},423:function(e,t,a){"use strict";a.r(t);var r=a(14),n=a.n(r),s=a(12),u=a(3),o=a(28),i=a(424),c=a(426);function l(){return(l=Object(o.a)(n.a.mark((function e(t,a,r,o,l,g){var d,v,h,m,p,b,x;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Calling getData"),d=new c,e.next=4,i.getRequest(t,a,r,o,l,g);case 4:v=e.sent,d.parse(v),h=[],m=Object(u.a)(d.simpleMap.entries());try{for(m.s();!(p=m.n()).done;)b=Object(s.a)(p.value,2),x=b[0],b[1],h.push(i.getToAllRequest(t,a,r,o,l,x,d.allNodes))}catch(n){m.e(n)}finally{m.f()}return e.next=11,Promise.all(h).then((function(e){e.forEach((function(e){return d.parseToJson(e)}))}));case 11:return e.abrupt("return",JSON.stringify(d.jsonObj));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.getData=function(e,t,a,r,n,s){return l.apply(this,arguments)}},424:function(e,t,a){"use strict";a.r(t);var r=a(14),n=a.n(r),s=a(28),u=a(425);function o(){return(o=Object(s.a)(n.a.mark((function e(t,a,r,s,o,i){var c,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("https://appservice5.omniture.com/analytics/1.0/reports?allowRemoteLoad=default&useCache=true&includeOberonXml=false&includePlatformPredictiveObjects=false",{headers:{accept:"application/json","accept-language":"en-US,en;q=0.9,zh-TW;q=0.8,zh-CN;q=0.7,zh;q=0.6",authorization:t,"cache-control":"no-cache","content-type":"application/json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-proxy-company-id":a,"x-proxy-userid":r,"x-request-client-type":"AW","x-request-entity-id":"5ef391a23126e227c822f579","x-request-entity-name-base64":"U2hhcmVkIHdpdGggYWxsIHRvIG5vbi1hZG1pbg==","x-request-id":"15ba90be825944d681cfd268e2517a04","x-request-timing-group-id":"cb073b95f7b34ff8ad8067d547494234"},referrer:"https://sc5.omniture.com/",referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify({rsid:"a4t-test.geometrixxqc",globalFilters:[{type:"dateRange",dateRange:s}],metricContainer:{metrics:[{columnId:"0",id:"metrics/occurrences",sort:"desc"}]},dimension:o,settings:{countRepeatInstances:!0,limit:i,page:0,nonesBehavior:"return-nones"},statistics:{functions:["col-max","col-min"]}}),method:"POST",mode:"cors"});case 2:return c=e.sent,e.next=5,c.json();case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(s.a)(n.a.mark((function e(t,a,r,s,o,i,c){var l,g;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("https://appservice5.omniture.com/analytics/1.0/reports?allowRemoteLoad=default&useCache=true&includeOberonXml=false&includePlatformPredictiveObjects=false",{headers:{accept:"application/json","accept-language":"en-US,en;q=0.9,zh-TW;q=0.8,zh-CN;q=0.7,zh;q=0.6",authorization:t,"cache-control":"no-cache","content-type":"application/json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-proxy-company-id":a,"x-proxy-userid":r,"x-request-client-type":"AW","x-request-entity-id":"5ef391a23126e227c822f579","x-request-entity-name-base64":"U2hhcmVkIHdpdGggYWxsIHRvIG5vbi1hZG1pbg==","x-request-id":"15ba90be825944d681cfd268e2517a04","x-request-timing-group-id":"cb073b95f7b34ff8ad8067d547494234"},referrer:"https://sc5.omniture.com/",referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify({rsid:"a4t-test.geometrixxqc",globalFilters:[{type:"dateRange",dateRange:s}],metricContainer:{metrics:[{columnId:"1",id:"metrics/occurrences",filters:["0"]}],metricFilters:[{id:"0",type:"segment",segmentDefinition:{container:{func:"container",context:"hits",pred:{func:"sequence-prefix",context:"visitors",stream:[{func:"container",context:"hits",pred:{str:i,val:{func:"attr",name:"variables/page"},func:"streq",description:"Page"}},{func:"dimension-restriction",count:1,limit:"within",attribute:{func:"attr",name:"variables/page",description:"Page"}},{func:"container",context:"hits",pred:{val:{func:"attr",name:"variables/page"},func:"exists",description:"Page"}},{func:"exclude-next-checkpoint"},{func:"container",context:"hits",pred:{val:{func:"attr",name:"variables/page"},func:"exists",description:"Page"}}]}},func:"segment",version:[1,0,0]}}]},dimension:o,search:{itemIds:c},settings:{countRepeatInstances:!0,limit:5}}),method:"POST",mode:"cors"});case 2:return l=e.sent,e.next=5,l.json();case 5:return(g=e.sent).fromPage=i,e.abrupt("return",g);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(s.a)(n.a.mark((function e(t,a,r,s,o,i,c){var l,g;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("https://appservice5.omniture.com/analytics/1.0/reports?allowRemoteLoad=default&useCache=true&includeOberonXml=false&includePlatformPredictiveObjects=false",{headers:{accept:"application/json","accept-language":"en-US,en;q=0.9,zh-TW;q=0.8,zh-CN;q=0.7,zh;q=0.6",authorization:t,"cache-control":"no-cache","content-type":"application/json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-proxy-company-id":a,"x-proxy-userid":r,"x-request-client-type":"AW","x-request-entity-id":"5ef391a23126e227c822f579","x-request-entity-name-base64":"U2hhcmVkIHdpdGggYWxsIHRvIG5vbi1hZG1pbg==","x-request-id":"15ba90be825944d681cfd268e2517a04","x-request-timing-group-id":"cb073b95f7b34ff8ad8067d547494234"},referrer:"https://sc5.omniture.com/",referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify({rsid:"a4t-test.geometrixxqc",globalFilters:[{type:"dateRange",dateRange:s}],metricContainer:{metrics:[{columnId:"1",id:"metrics/occurrences",filters:["0"]}],metricFilters:[{id:"0",type:"segment",segmentDefinition:{container:{func:"container",context:"hits",pred:{func:"sequence-prefix",context:"visitors",stream:[{func:"container",context:"hits",pred:{str:i,val:{func:"attr",name:"variables/page"},func:"streq",description:"Page"}},{func:"dimension-restriction",count:1,limit:"within",attribute:{func:"attr",name:"variables/page",description:"Page"}},{func:"container",context:"hits",pred:{str:c,val:{func:"attr",name:"variables/page"},func:"streq",description:"Page"}},{func:"exclude-next-checkpoint"},{func:"container",context:"hits",pred:{val:{func:"attr",name:"variables/page"},func:"exists",description:"Page"}}]}},func:"segment",version:[1,0,0]}}]},dimension:o,settings:{countRepeatInstances:!0,limit:5}}),method:"POST",mode:"cors"});case 2:return l=e.sent,e.next=5,l.json();case 5:return g=e.sent,e.abrupt("return",g);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.getRequest=function(e,t,a,r,n,s){return o.apply(this,arguments)},exports.getSeqRequest=function(e,t,a,r,n,s,u){return c.apply(this,arguments)},exports.getToAllRequest=function(e,t,a,r,n,s,u){return i.apply(this,arguments)}},426:function(e,t,a){"use strict";a.r(t),function(e){var t=a(7),r=a(11),n=a(452);e.exports=function(){function e(){Object(t.a)(this,e),this.simpleMap=new Map,this.count=0,this.indexMap=new Map,this.other="Other Pages",this.allNodes=[],this.jsonObj={nodes:[],links:[]}}return Object(r.a)(e,[{key:"parse",value:function(e){var t=this,a=e.summaryData.totals[0];e.rows.forEach((function(e,r){t.indexMap.set(e.value,t.count++),a-=e.data,t.simpleMap.set(e.value,e.itemId),t.allNodes.push(e.itemId),t.jsonObj.nodes.push({name:e.value,group:t.indexMap.get(e.value),index:t.indexMap.get(e.value),volume:e.data[0]})})),this.indexMap.set(this.other,this.count++),this.jsonObj.nodes.push({name:this.other,group:this.indexMap.get(this.other),index:this.indexMap.get(this.other),volume:a}),this.normalizeFunction(this.jsonObj.nodes)}},{key:"parseToJson",value:function(e){var t=this,a=e.summaryData.totals[0];return e.rows.forEach((function(r){a-=r.data[0],t.jsonObj.links.push({source:t.indexMap.get(e.fromPage),target:t.indexMap.get(r.value),value:parseInt(r.data[0])})})),a&&this.jsonObj.links.push({source:this.indexMap.get(e.fromPage),target:this.indexMap.get(this.other),value:a}),this.normalizeEdgeFunction(this.jsonObj.links),[]}},{key:"loadToJson",value:function(e){this.jsonObj.links.push(e)}},{key:"normalizeFunction",value:function(e){var t=e[0].volume>e[e.length-1].volume?e[0].volume:e[e.length-1].volume,a=n.scaleLinear().domain([0,t]).range([200,1e3]);for(var r in e)e[r].normalizeVolume=a(e[r].volume)}},{key:"normalizeEdgeFunction",value:function(e){var t=e[0].value,a=n.scaleLinear().domain([0,t]).range([1,13]);for(var r in e)e[r].normalizeValue=a(e[r].value)}}]),e}()}.call(this,a(427)(e))},453:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(48),u=a.n(s),o=(a(357),a(14)),i=a.n(o),c=a(28),l=a(6),g=a(7),d=a(11),v=a(36),h=a(15),m=a(16),p=(a(359),a(360),a(217)),b=a(349);Promise.all([a.e(4),a.e(3)]).then(a.bind(null,493));var x=a(68),j={select:p.a};window.d3=j,window.vega=x,window.vegaEmbed=b.a,console.log("Select: ",p.a);var f=a(268),O=a(325),y=a(13),C=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).draw=r.draw.bind(Object(v.a)(r)),r.destroy=r.destroy.bind(Object(v.a)(r)),r}return Object(d.a)(a,[{key:"enabledDataSets",get:function(){var e=this;return this.props.data.filter((function(t){return e.isDataSetEnabled(t)}))}},{key:"isDataSetEnabled",value:function(e){var t=e.data[0];return this.props.opts.isLegendEnabled(t&&(t.value("columnSeriesKey")||t.value("series")))}},{key:"colors",get:function(){var e=this,t=[];return this.props.data.forEach((function(a,r){var n=e.props.colors[e.props.colors.length];e.isDataSetEnabled(a)&&t.push(n)})),t}},{key:"draw",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({el:t},this.props.opts),{},{type:this.props.type,colors:this.props.colors,data:this.props.data,showLoadingState:function(e){u.a.render(Object(y.jsx)("p",{children:"Loading..."}),e)}}),this.viz||(this.viz=O.a.create(this.props.type,a),console.log(this.viz)),e.next=4,this.viz.draw(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.viz&&this.viz.destroy()}},{key:"render",value:function(){return Object(y.jsx)("div",{})}}]),a}(n.a.Component),k=a(29),P=a(456),w=a(339),S=a(457),D=a(351),T=a(341),z=a(458),I=a(60),E=a(335),q=a.n(E),V=a(337),N=a.n(V),M=a(338),R=a.n(M),B=a(350),L=[{name:"node-data",values:[{name:"Myriel",group:1,index:0},{name:"Napoleon",group:1,index:1},{name:"Mlle.Baptistine",group:1,index:2},{name:"Mme.Magloire",group:1,index:3},{name:"CountessdeLo",group:1,index:4},{name:"Geborand",group:1,index:5},{name:"Champtercier",group:1,index:6},{name:"Cravatte",group:1,index:7},{name:"Count",group:1,index:8},{name:"OldMan",group:1,index:9},{name:"Labarre",group:2,index:10},{name:"Valjean",group:2,index:11},{name:"Marguerite",group:3,index:12},{name:"Mme.deR",group:2,index:13},{name:"Isabeau",group:2,index:14},{name:"Gervais",group:2,index:15},{name:"Tholomyes",group:3,index:16},{name:"Listolier",group:3,index:17},{name:"Fameuil",group:3,index:18},{name:"Blacheville",group:3,index:19},{name:"Favourite",group:3,index:20},{name:"Dahlia",group:3,index:21},{name:"Zephine",group:3,index:22},{name:"Fantine",group:3,index:23},{name:"Mme.Thenardier",group:4,index:24},{name:"Thenardier",group:4,index:25},{name:"Cosette",group:5,index:26},{name:"Javert",group:4,index:27},{name:"Fauchelevent",group:0,index:28},{name:"Bamatabois",group:2,index:29},{name:"Perpetue",group:3,index:30},{name:"Simplice",group:2,index:31},{name:"Scaufflaire",group:2,index:32},{name:"Woman1",group:2,index:33},{name:"Judge",group:2,index:34},{name:"Champmathieu",group:2,index:35},{name:"Brevet",group:2,index:36},{name:"Chenildieu",group:2,index:37},{name:"Cochepaille",group:2,index:38},{name:"Pontmercy",group:4,index:39},{name:"Boulatruelle",group:6,index:40},{name:"Eponine",group:4,index:41},{name:"Anzelma",group:4,index:42},{name:"Woman2",group:5,index:43},{name:"MotherInnocent",group:0,index:44},{name:"Gribier",group:0,index:45},{name:"Jondrette",group:7,index:46},{name:"Mme.Burgon",group:7,index:47},{name:"Gavroche",group:8,index:48},{name:"Gillenormand",group:5,index:49},{name:"Magnon",group:5,index:50},{name:"Mlle.Gillenormand",group:5,index:51},{name:"Mme.Pontmercy",group:5,index:52},{name:"Mlle.Vaubois",group:5,index:53},{name:"Lt.Gillenormand",group:5,index:54},{name:"Marius",group:8,index:55},{name:"BaronessT",group:5,index:56},{name:"Mabeuf",group:8,index:57},{name:"Enjolras",group:8,index:58},{name:"Combeferre",group:8,index:59},{name:"Prouvaire",group:8,index:60},{name:"Feuilly",group:8,index:61},{name:"Courfeyrac",group:8,index:62},{name:"Bahorel",group:8,index:63},{name:"Bossuet",group:8,index:64},{name:"Joly",group:8,index:65},{name:"Grantaire",group:8,index:66},{name:"MotherPlutarch",group:9,index:67},{name:"Gueulemer",group:4,index:68},{name:"Babet",group:4,index:69},{name:"Claquesous",group:4,index:70},{name:"Montparnasse",group:4,index:71},{name:"Toussaint",group:5,index:72},{name:"Child1",group:10,index:73},{name:"Child2",group:10,index:74},{name:"Brujon",group:4,index:75},{name:"Mme.Hucheloup",group:8,index:76}]},{name:"link-data",values:[{source:0,target:1,value:20},{source:1,target:0,value:1},{source:2,target:0,value:8},{source:3,target:0,value:10},{source:3,target:2,value:6},{source:4,target:0,value:1},{source:5,target:0,value:1},{source:6,target:0,value:1},{source:7,target:0,value:1},{source:8,target:0,value:2},{source:9,target:0,value:1},{source:11,target:10,value:1},{source:11,target:3,value:3},{source:11,target:2,value:3},{source:11,target:0,value:5},{source:12,target:11,value:1},{source:13,target:11,value:1},{source:14,target:11,value:1},{source:15,target:11,value:1},{source:17,target:16,value:4},{source:18,target:16,value:4},{source:18,target:17,value:4},{source:19,target:16,value:4},{source:19,target:17,value:4},{source:19,target:18,value:4},{source:20,target:16,value:3},{source:20,target:17,value:3},{source:20,target:18,value:3},{source:20,target:19,value:4},{source:21,target:16,value:3},{source:21,target:17,value:3},{source:21,target:18,value:3},{source:21,target:19,value:3},{source:21,target:20,value:5},{source:22,target:16,value:3},{source:22,target:17,value:3},{source:22,target:18,value:3},{source:22,target:19,value:3},{source:22,target:20,value:4},{source:22,target:21,value:4},{source:23,target:16,value:3},{source:23,target:17,value:3},{source:23,target:18,value:3},{source:23,target:19,value:3},{source:23,target:20,value:4},{source:23,target:21,value:4},{source:23,target:22,value:4},{source:23,target:12,value:2},{source:23,target:11,value:9},{source:24,target:23,value:2},{source:24,target:11,value:7},{source:25,target:24,value:13},{source:25,target:23,value:1},{source:25,target:11,value:12},{source:26,target:24,value:4},{source:26,target:11,value:31},{source:26,target:16,value:1},{source:26,target:25,value:1},{source:27,target:11,value:17},{source:27,target:23,value:5},{source:27,target:25,value:5},{source:27,target:24,value:1},{source:27,target:26,value:1},{source:28,target:11,value:8},{source:28,target:27,value:1},{source:29,target:23,value:1},{source:29,target:27,value:1},{source:29,target:11,value:2},{source:30,target:23,value:1},{source:31,target:30,value:2},{source:31,target:11,value:3},{source:31,target:23,value:2},{source:31,target:27,value:1},{source:32,target:11,value:1},{source:33,target:11,value:2},{source:33,target:27,value:1},{source:34,target:11,value:3},{source:34,target:29,value:2},{source:35,target:11,value:3},{source:35,target:34,value:3},{source:35,target:29,value:2},{source:36,target:34,value:2},{source:36,target:35,value:2},{source:36,target:11,value:2},{source:36,target:29,value:1},{source:37,target:34,value:2},{source:37,target:35,value:2},{source:37,target:36,value:2},{source:37,target:11,value:2},{source:37,target:29,value:1},{source:38,target:34,value:2},{source:38,target:35,value:2},{source:38,target:36,value:2},{source:38,target:37,value:2},{source:38,target:11,value:2},{source:38,target:29,value:1},{source:39,target:25,value:1},{source:40,target:25,value:1},{source:41,target:24,value:2},{source:41,target:25,value:3},{source:42,target:41,value:2},{source:42,target:25,value:2},{source:42,target:24,value:1},{source:43,target:11,value:3},{source:43,target:26,value:1},{source:43,target:27,value:1},{source:44,target:28,value:3},{source:44,target:11,value:1},{source:45,target:28,value:2},{source:47,target:46,value:1},{source:48,target:47,value:2},{source:48,target:25,value:1},{source:48,target:27,value:1},{source:48,target:11,value:1},{source:49,target:26,value:3},{source:49,target:11,value:2},{source:50,target:49,value:1},{source:50,target:24,value:1},{source:51,target:49,value:9},{source:51,target:26,value:2},{source:51,target:11,value:2},{source:52,target:51,value:1},{source:52,target:39,value:1},{source:53,target:51,value:1},{source:54,target:51,value:2},{source:54,target:49,value:1},{source:54,target:26,value:1},{source:55,target:51,value:6},{source:55,target:49,value:12},{source:55,target:39,value:1},{source:55,target:54,value:1},{source:55,target:26,value:21},{source:55,target:11,value:19},{source:55,target:16,value:1},{source:55,target:25,value:2},{source:55,target:41,value:5},{source:55,target:48,value:4},{source:56,target:49,value:1},{source:56,target:55,value:1},{source:57,target:55,value:1},{source:57,target:41,value:1},{source:57,target:48,value:1},{source:58,target:55,value:7},{source:58,target:48,value:7},{source:58,target:27,value:6},{source:58,target:57,value:1},{source:58,target:11,value:4},{source:59,target:58,value:15},{source:59,target:55,value:5},{source:59,target:48,value:6},{source:59,target:57,value:2},{source:60,target:48,value:1},{source:60,target:58,value:4},{source:60,target:59,value:2},{source:61,target:48,value:2},{source:61,target:58,value:6},{source:61,target:60,value:2},{source:61,target:59,value:5},{source:61,target:57,value:1},{source:61,target:55,value:1},{source:62,target:55,value:9},{source:62,target:58,value:17},{source:62,target:59,value:13},{source:62,target:48,value:7},{source:62,target:57,value:2},{source:62,target:41,value:1},{source:62,target:61,value:6},{source:62,target:60,value:3},{source:63,target:59,value:5},{source:63,target:48,value:5},{source:63,target:62,value:6},{source:63,target:57,value:2},{source:63,target:58,value:4},{source:63,target:61,value:3},{source:63,target:60,value:2},{source:63,target:55,value:1},{source:64,target:55,value:5},{source:64,target:62,value:12},{source:64,target:48,value:5},{source:64,target:63,value:4},{source:64,target:58,value:10},{source:64,target:61,value:6},{source:64,target:60,value:2},{source:64,target:59,value:9},{source:64,target:57,value:1},{source:64,target:11,value:1},{source:65,target:63,value:5},{source:65,target:64,value:7},{source:65,target:48,value:3},{source:65,target:62,value:5},{source:65,target:58,value:5},{source:65,target:61,value:5},{source:65,target:60,value:2},{source:65,target:59,value:5},{source:65,target:57,value:1},{source:65,target:55,value:2},{source:66,target:64,value:3},{source:66,target:58,value:3},{source:66,target:59,value:1},{source:66,target:62,value:2},{source:66,target:65,value:2},{source:66,target:48,value:1},{source:66,target:63,value:1},{source:66,target:61,value:1},{source:66,target:60,value:1},{source:67,target:57,value:3},{source:68,target:25,value:5},{source:68,target:11,value:1},{source:68,target:24,value:1},{source:68,target:27,value:1},{source:68,target:48,value:1},{source:68,target:41,value:1},{source:69,target:25,value:6},{source:69,target:68,value:6},{source:69,target:11,value:1},{source:69,target:24,value:1},{source:69,target:27,value:2},{source:69,target:48,value:1},{source:69,target:41,value:1},{source:70,target:25,value:4},{source:70,target:69,value:4},{source:70,target:68,value:4},{source:70,target:11,value:1},{source:70,target:24,value:1},{source:70,target:27,value:1},{source:70,target:41,value:1},{source:70,target:58,value:1},{source:71,target:27,value:1},{source:71,target:69,value:2},{source:71,target:68,value:2},{source:71,target:70,value:2},{source:71,target:11,value:1},{source:71,target:48,value:1},{source:71,target:41,value:1},{source:71,target:25,value:1},{source:72,target:26,value:2},{source:72,target:27,value:1},{source:72,target:11,value:1},{source:73,target:48,value:2},{source:74,target:48,value:2},{source:74,target:73,value:3},{source:75,target:69,value:3},{source:75,target:68,value:3},{source:75,target:25,value:3},{source:75,target:48,value:1},{source:75,target:41,value:1},{source:75,target:70,value:1},{source:75,target:71,value:1},{source:76,target:64,value:1},{source:76,target:65,value:1},{source:76,target:66,value:1},{source:76,target:63,value:1},{source:76,target:62,value:1},{source:76,target:48,value:1},{source:76,target:58,value:1}]}],_=[{name:"node-data",values:[{name:"Other",group:0,index:0,volume:400357},{name:"Shopping Cart|Cart Details",group:1,index:1,volume:85335},{name:"Home",group:2,index:2,volume:83089},{name:"Unspecified",group:3,index:3,volume:59365},{name:"Search Results",group:4,index:4,volume:58266},{name:"Store Locator|Search",group:5,index:5,volume:44741},{name:"Shopping Cart|Shipping Information",group:6,index:6,volume:42012},{name:"Equipment",group:7,index:7,volume:36659},{name:"Shopping Cart|Billing Information",group:8,index:8,volume:30524},{name:"Store Locator|Results",group:9,index:9,volume:30249}]},{name:"link-data",values:[{source:1,target:6,value:42009},{source:1,target:1,value:6795},{source:1,target:2,value:6745},{source:1,target:4,value:2592},{source:1,target:5,value:1432},{source:1,target:0,value:27843},{source:2,target:4,value:17594},{source:2,target:7,value:12887},{source:2,target:5,value:3576},{source:2,target:1,value:1736},{source:2,target:2,value:388},{source:2,target:0,value:40874},{source:4,target:5,value:4309},{source:4,target:7,value:3542},{source:4,target:2,value:3500},{source:4,target:4,value:3246},{source:4,target:1,value:2637},{source:4,target:0,value:44479},{source:5,target:9,value:30247},{source:5,target:2,value:2131},{source:5,target:4,value:2024},{source:5,target:5,value:1089},{source:5,target:1,value:1042},{source:5,target:0,value:7320},{source:6,target:8,value:30523},{source:6,target:4,value:2240},{source:6,target:2,value:450},{source:6,target:7,value:1},{source:6,target:0,value:10432},{source:7,target:5,value:2285},{source:7,target:7,value:701},{source:7,target:2,value:676},{source:7,target:4,value:607},{source:7,target:1,value:149},{source:7,target:0,value:35831},{source:8,target:2,value:3070},{source:8,target:4,value:1497},{source:8,target:7,value:1},{source:8,target:0,value:27541},{source:9,target:2,value:2748},{source:9,target:4,value:1315},{source:9,target:7,value:5},{source:9,target:9,value:1},{source:9,target:5,value:1},{source:9,target:0,value:389}]}],A=a(423),F=window.vega,G=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e))._fakeIsLegendEnabled=function(){return!0},r._chartContainerRef=n.a.createRef(),r.state={data:[],startDate:"2020-10-31",endDate:"2021-01-01",username:"zacharyyoung",companyName:"OBU Eng SC",APIToken:"Bearer SC:65d78f23d380692470c5a694f8e65b6cdcaecd472b2db9252d01dcf6953041d8",errorMessage:"",dimension:"variables/page",prefetchedData:"miserables",loadPreviousRequest:!1,limit:10,loading:!1,hasBuiltGraph:!1,showPanel:!1},r.setEventTargetValue=r.setEventTargetValue.bind(Object(v.a)(r)),r.setEventTargetValueNum=r.setEventTargetValueNum.bind(Object(v.a)(r)),r.setIncrememtalLimit=r.setIncrememtalLimit.bind(Object(v.a)(r)),r.setDimension=r.setDimension.bind(Object(v.a)(r)),r.setPrefetchedData=r.setPrefetchedData.bind(Object(v.a)(r)),r.setIncrememtalLimitValue=r.setIncrememtalLimitValue.bind(Object(v.a)(r)),r.setValue=r.setValue.bind(Object(v.a)(r)),r.expandGraph=r._expandGraph.bind(Object(v.a)(r)),F.expressionFunction("loadMore",r.expandGraph),document.body.className="light-theme",r}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.data!==this.state.data&&this._displayChart()}},{key:"setEventTargetValue",value:function(e,t){var a=e.target.name,r=t||e.target.value;this.setState(Object(l.a)({},a,r))}},{key:"setIncrememtalLimit",value:function(e){var t=parseInt(e.target.value,10);t<10||t>100?this.setState({errorMessage:"Node count must be between 10 and 100."}):this.setEventTargetValue(e,t)}},{key:"setEventTargetValueNum",value:function(e){var t=parseInt(e.target.value,10);this.setEventTargetValue(e,t)}},{key:"setDimension",value:function(e){this.setState({dimension:e})}},{key:"setPrefetchedData",value:function(e){this.setState({prefetchedData:e.target.value})}},{key:"setIncrememtalLimitValue",value:function(e){var t=parseInt(e,10);t<10||t>100?alert("Node count must be between 10 and 100."):(console.log("Setting limit: ",t),this.setState({limit:e}))}},{key:"setValue",value:function(e,t){this.setState(Object(l.a)({},e,t))}},{key:"_buildFakeData",value:function(){for(var e=[],t=0;t<5;++t){var a={data:[],y:[]};a.data.push({Hello:"World!"}),e.push(a)}}},{key:"_buildHardCodedColors",value:function(){for(var e=[],t=0;t<8;++t)e.push("#3683BB");return e}},{key:"_getEdgesFromNode",value:function(e,t){return t.filter((function(t){return t.source.datum.index===e.index}))}},{key:"_sortEdgesByVolume",value:function(e){return e.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}))}},{key:"_getTopVolumeEdges",value:function(e,t,a,r){return r.sortEdges(r.getEdges(e,t)).slice(0,a)}},{key:"_nodeTooltipContent",value:function(e,t,a){var r=e.data,n=t.links,s=Object(y.jsx)("div",{className:"an-Pathing-tooltip",children:Object(y.jsxs)("div",{className:"an-Pathing-tooltipHeader",children:[Object(y.jsxs)("div",{className:"an-Pathing-tooltipTitle",children:["Name: ",r.name]}),Object(y.jsx)("div",{className:"an-Pathing-tooltipLineItem",children:Object(y.jsx)("div",{className:"an-Pathing-lineItemValues",style:{justifyContent:"center"},children:Object(y.jsxs)("span",{className:"an-Pathing-lineItemValue",children:["Volume: ",r.volume]})})})]})}),o=s;o=n.length>0?Object(y.jsxs)("div",{children:[s,Object(y.jsxs)("div",{className:"an-Pathing-tooltipPaths",children:[Object(y.jsxs)("div",{className:"an-Pathing-tooltipTitle",children:["Top ",n.length," links from this node"]}),n.map((function(e,t){return Object(y.jsxs)("div",{className:"an-Pathing-tooltipLineItem",children:[Object(y.jsx)("div",{className:"an-Pathing-lineItemSwatch",style:{backgroundColor:a[t]},children:"\xa0"}),Object(y.jsx)("div",{className:"an-Pathing-lineItemValues",style:{fontSize:10,textAlign:"left"},children:Object(y.jsx)("span",{children:e.source.datum.name+"-"+e.target.datum.name+": "+e.value})})]},n[t].target.datum.index)}))]})]}):Object(y.jsxs)("div",{children:[s,Object(y.jsx)("div",{className:"an-Pathing-tooltipPaths",children:Object(y.jsx)("div",{className:"an-Pathing-tooltipTitle",children:"No links from this node"})})]});var i=document.createElement("div");return u.a.render(o,i),i}},{key:"_getVizOpts",value:function(){return{isLegendEnabled:this._fakeIsLegendEnabled,getEdges:this._getEdgesFromNode,sortEdges:this._sortEdgesByVolume,swatchColors:["rgb(38, 192, 199)","rgb(81, 81, 211)","rgb(230, 134, 25)","rgb(216, 55, 144)","rgb(144, 141, 250)"],nodeTooltipContent:this._nodeTooltipContent,getTopVolumeEdges:this._getTopVolumeEdges,allowSignalBinds:!this.state.showPanel}}},{key:"_displayChart",value:function(){this._chartContainerRef.current.draw(document.getElementById("Viz-Display-Area"))}},{key:"_makeApiRequest",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,r,n,s,u=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t="",this.state.startDate&&this.state.endDate&&this.state.username&&this.state.companyName&&this.state.APIToken){e.next=6;break}return t="Please fill in all fields to build a new graph.",this.setState({errorMessage:t}),e.abrupt("return");case 6:return a=this.getDateRange(this.state.startDate,this.state.endDate),e.next=9,A.getData(this.state.APIToken,this.state.companyName,this.state.username,a,this.state.dimension,this.state.limit);case 9:r=e.sent,n=JSON.parse(r),s=[{name:"node-data",values:n.nodes},{name:"link-data",values:n.links}],console.log("API_DATA"),console.log(s),setTimeout((function(){return u.setState({data:s,errorMessage:t,loading:!1})}),500);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDateRange",value:function(e,t){return new Date(e).toISOString().slice(0,-1)+"/"+new Date(t).toISOString().slice(0,-1)}},{key:"_toggleRequestType",value:function(){this.setState({loadPreviousRequest:!this.state.loadPreviousRequest})}},{key:"_expandGraph",value:function(){var e=this;console.log("node clicked"),this.state.limit+10>100?this.setState({errorMessage:"The graph cannot be extended past 100 nodes."}):this.setState({limit:this.state.limit+10},(function(){return e._makeApiRequest()}))}},{key:"_setCorrespondingPrefetchedData",value:function(){switch(this.state.prefetchedData){case"miserables":this.setState({data:L});break;case"pages":this.setState({data:_});break;default:throw new Error("No corresponding prefetched dataset.")}}},{key:"render",value:function(){var e,t,a=this,r=this._buildHardCodedColors();return this.state.showPanel?Object(y.jsxs)(k.a,{theme:P.a,children:[Object(y.jsx)(C,{ref:this._chartContainerRef,colors:r,data:this.state.data,type:"ForceDirected",opts:this._getVizOpts()}),Object(y.jsxs)(w.a,{direction:"column",children:[Object(y.jsx)(S.a,{height:"size-550",backgroundColor:"gray-900",children:Object(y.jsxs)(w.a,{height:"size-550",direction:"row",justifyContent:"end",alignItems:"center",children:[Object(y.jsx)(D.a,{onClick:function(){return a.setState({showPanel:!a.state.showPanel})},children:"Hide Panel"}),Object(y.jsx)(T.a,{marginEnd:"size-200",label:"Company",labelPosition:"side",placeholder:"Good Co.",width:"size-2000",value:this.state.companyName,onChange:function(e){return a.setValue("companyName",e)}}),Object(y.jsx)(T.a,{marginEnd:"size-200",label:"Username",labelPosition:"side",placeholder:"Cletus",width:"size-2000",value:this.state.username,onChange:function(e){return a.setValue("username",e)}}),Object(y.jsx)(T.a,{marginEnd:"size-200",label:"Auth Token",labelPosition:"side",placeholder:"123",width:"size-2000",value:this.state.APIToken,onChange:function(e){return a.setValue("APIToken",e)}})]})}),Object(y.jsx)(S.a,{height:"size-700",backgroundColor:"gray-100",children:Object(y.jsx)(w.a,{height:"size-700",direction:"row",alignItems:"center",children:Object(y.jsx)(S.a,{gridArea:"demo",marginStart:"size-50",children:"BYU DEMO"})})}),Object(y.jsxs)(w.a,{height:"size-6000",direction:"row",alignItems:"center",children:[Object(y.jsx)(S.a,{marginTop:"6%",height:"122%",borderEndWidth:"thin",borderEndColor:"gray-900",backgroundColor:"gray-100",width:"size-800",children:Object(y.jsxs)(w.a,{height:"100%",flex:"column",width:"size-800",direction:"column",alignItems:"center",children:[Object(y.jsx)(S.a,{marginTop:"size-100",children:Object(y.jsx)(q.a,{label:"Webpage"})}),Object(y.jsx)(S.a,{marginTop:"size-100",children:Object(y.jsx)(N.a,{label:"Graph Bar Vertical"})}),Object(y.jsx)(S.a,{marginTop:"size-100",children:Object(y.jsx)(R.a,{label:"Curate"})})]})}),Object(y.jsx)(S.a,{marginTop:"6%",height:"122%",borderEndWidth:"thin",borderEndColor:"gray-900",backgroundColor:"gray-50",width:"size-3000",children:Object(y.jsxs)(w.a,{flex:"column",height:"100%",width:"size-3000",direction:"column",alignItems:"center",children:[Object(y.jsx)(S.a,{gridArea:"demo",marginStart:"size-50",children:"BYU DEMO"}),Object(y.jsx)(S.a,{gridArea:"demo",marginStart:"size-50",children:"BYU DEMO"}),Object(y.jsx)(S.a,{gridArea:"demo",marginStart:"size-50",children:"BYU DEMO"})]})}),Object(y.jsx)(S.a,{backgroundColor:"gray-50",flex:!0,children:Object(y.jsx)(w.a,{flex:"column",height:"size-6000",direction:"column",alignItems:"center",justifyContent:"center",children:Object(y.jsx)(S.a,{marginTop:"10%",borderRadius:"small",borderWidth:"thick",borderColor:"blue-500",gridArea:"demo",width:"90%",height:"120%",backgroundColor:"gray-50",marginStart:"size-50",children:Object(y.jsxs)(w.a,{direction:"column",height:"100%",children:[Object(y.jsx)(S.a,{height:"size-550",borderBottomWidth:"thin",borderBottomColor:"gray-900",children:Object(y.jsxs)(w.a,{marginStart:"size-150",marginEnd:"size-150",height:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(y.jsx)(S.a,{children:"Force Directed"}),Object(y.jsx)(w.a,{direction:"row",children:Object(y.jsx)(S.a,{children:"X"})})]})}),Object(y.jsx)(S.a,{height:"size-675",borderBottomWidth:"thin",borderBottomColor:"gray-900",children:Object(y.jsx)(w.a,{marginStart:"size-150",marginEnd:"size-150",height:"100%",direction:"row",justifyContent:"end",alignItems:"center",children:Object(y.jsx)(S.a,{children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("label",{children:["Start Date:",Object(y.jsx)("input",{type:"date",id:"start",name:"startDate",value:this.state.startDate,onChange:this.setEventTargetValue,min:"2018-01-01",max:"2021-12-31"})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["End Date:",Object(y.jsx)("input",{type:"date",id:"end",name:"endDate",value:this.state.endDate,onChange:this.setEventTargetValue,min:"2018-01-01",max:"2021-12-31"})]}),Object(y.jsx)("br",{})]})})})}),Object(y.jsx)(w.a,{height:"size-5000",width:"90%",alignItems:"center",justifyContent:"center",alignSelf:"center",children:Object(y.jsxs)(S.a,{height:"90%",width:"100%",borderWidth:"thin",borderColor:"gray-900",children:[this.state.hasBuiltGraph?null:Object(y.jsxs)(w.a,{height:"100%",direction:"column",alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(S.a,{marginTop:"size-125",children:"Select a Dimension Below"}),Object(y.jsxs)(z.a,{label:"dimension",onSelectionChange:this.setDimension,children:[Object(y.jsx)(I.a,{children:"Page"},"variables/page"),Object(y.jsx)(I.a,{children:"Browser"},"variables/browser"),Object(y.jsx)(I.a,{children:"Product"},"variables/product"),Object(y.jsx)(I.a,{children:"Day"},"variables/daterangeday"),Object(y.jsx)(I.a,{children:"Gender"},"variables/evar9")]}),Object(y.jsx)(B.a,{label:"Nodes",defaultValue:this.state.limit,maxValue:"50",minValue:"10",onChange:this.setIncrememtalLimitValue}),Object(y.jsx)(D.a,{onPress:function(){a.setState({hasBuiltGraph:!0}),a._makeApiRequest()},marginTop:"size-150",variant:"primary",children:"Build"})]}),Object(y.jsx)("div",{style:{marginTop:"0",height:"100%",width:"95%"},id:"Viz-Display-Area"})]})})]})})})})]})]})]}):(t=this.state.loadPreviousRequest?Object(y.jsx)("div",{}):Object(y.jsx)("button",{onClick:function(){return a._expandGraph()},children:"Load More Nodes"}),e=Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{ref:this._chartContainerRef,colors:r,data:this.state.data,type:"ForceDirected",opts:this._getVizOpts()}),this.state.loadPreviousRequest?Object(y.jsxs)("label",{children:["Dimension:",Object(y.jsxs)("select",{value:this.state.value,id:"prefetched visualization",onChange:this.setPrefetchedData,children:[Object(y.jsx)("option",{value:"miserables",children:"Les Miserables"}),Object(y.jsx)("option",{value:"pages",children:"Page"})]})]}):Object(y.jsxs)("form",{children:[Object(y.jsxs)("label",{children:["Start Date:",Object(y.jsx)("input",{type:"date",id:"start",name:"startDate",value:this.state.startDate,onChange:this.setEventTargetValue,min:"2018-01-01",max:"2021-12-31"})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["End Date:",Object(y.jsx)("input",{type:"date",id:"end",name:"endDate",value:this.state.endDate,onChange:this.setEventTargetValue,min:"2018-01-01",max:"2021-12-31"})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["Company Name:",Object(y.jsx)("input",{type:"text",name:"companyName",value:this.state.comapnyName,defaultValue:"OBU Eng SC",onChange:this.setEventTargetValue})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["User Name:",Object(y.jsx)("input",{type:"text",id:"name",name:"userName",value:this.state.name,defaultValue:this.state.username,onChange:this.setEventTargetValue})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["API token:",Object(y.jsx)("input",{type:"password",id:"APIToken",name:"APIToken",minLength:"0",required:!0,value:this.state.APIToken,onChange:this.setEventTargetValue})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["Dimension:",Object(y.jsxs)("select",{value:this.state.value,id:"dimension",onChange:this.setDimension,children:[Object(y.jsx)("option",{value:"variables/page",children:"Page"}),Object(y.jsx)("option",{value:"variables/browser",children:"Browser"}),Object(y.jsx)("option",{value:"variables/product",children:"Product"}),Object(y.jsx)("option",{value:"variables/daterangeday",children:"Day"}),Object(y.jsx)("option",{value:"variables/evar9",children:"Gender"})]})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("label",{children:["Number Nodes:",Object(y.jsx)("input",{type:"number",name:"limit",value:this.state.limit,id:"limit",onChange:this.setIncrememtalLimit})]})]}),Object(y.jsx)("button",{onClick:function(){return a._toggleRequestType()},children:this.state.loadPreviousRequest?"Load from Dynamic Request":"Load from Pre-Fetched Request"}),Object(y.jsx)("button",{onClick:function(){a.state.loadPreviousRequest?a._setCorrespondingPrefetchedData():a._makeApiRequest()},children:"Build Graph"}),t,Object(y.jsx)("button",{onClick:function(){return a.setState({showPanel:!a.state.showPanel})},children:"Show panel"}),Object(y.jsx)("h3",{children:this.state.errorMessage}),this.state.loading?Object(y.jsx)("p",{children:"Loading..."}):Object(y.jsx)("div",{id:"Viz-Display-Area"}),Object(y.jsx)("div",{id:"Bottom-Area"})]}),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{children:"Force Directed Layout by Vega"}),e]}))}}]),a}(n.a.Component),U=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,492)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,u=t.getTTFB;a(e),r(e),n(e),s(e),u(e)}))};u.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(G,{})}),document.getElementById("root")),U()}},[[453,1,2]]]);
//# sourceMappingURL=main.7270d34e.chunk.js.map